import { Meta, Canvas, Story, Props } from "@storybook/addon-docs/blocks";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { TextInput } from "./TextInput";

<Meta
  title="Forms/Text Input"
  parameters={{ badges: [BADGE.OBSOLETE]}}
/>

export const textInput = (args) => <TextInput {...args} />;

# Text Input

All text inputs must have visible labels; placeholder text is not an acceptable replacement for a label as it vanishes when users start typing. Programmatically associate labels with all form controls. The recommended method for most circumstances is to use the label element and an explicit association using the for and id attributes. Use hint text for help thatâ€™s relevant to the majority of users, like how their information will be used, or where to find it.

## Default

<Canvas>
  <Story
    name="Default"
    argTypes={{
      label: {
        name: "Label",
      },
      placeholder: {
        name: "Placeholder",
      },
      helperText: {
        name: "Helper Text",
      },
      validationText: {
        name: "Validation Text",
      },
      state: {
        name: "State",
        control: {
          type: "radio",
          options: ["default", "disabled", "error", "success"],
        },
      },
    }}
    args={{
      name: "default",
      label: "Form label",
      value: "",
      placeholder: "Placeholder text",
      helperText: "Helper text",
      validationText: "Validation",
      state: "default",
    }}
    parameters={{
      controls: {
        exclude: ["name", "value"],
      },
      docs: {
        source: {
          code: `
<div class="made-c-form__element">
  <label for="default" class="made-c-form__label">
    Form label
  </label>
  <div class="made-c-text-input__wrapper">
    <input type="text" id="default" name="default" class="made-c-text-input" placeholder="Placeholder text" />
  </div>
  <div class="made-c-form__hint">Helper text</div>
</div>`,
        },
      },
    }}
  >
    >{textInput.bind({})}
  </Story>
</Canvas>

## Disabled State

Add the disabled boolean attribute on an input to give it a grayed out appearance and remove pointer events.

<Canvas>
  <Story
    name="Disabled State"
    argTypes={{
      label: {
        name: "Label",
      },
      placeholder: {
        name: "Placeholder",
      },
      helperText: {
        name: "Helper Text",
      },
      validationText: {
        name: "Validation Text",
      },
      state: {
        name: "State",
        control: {
          type: "radio",
          options: ["default", "disabled", "error", "success"],
        },
      },
    }}
    args={{
      name: "disabled-state",
      label: "Form label",
      value: "",
      placeholder: "Placeholder text",
      helperText: "Helper text",
      validationText: "Validation",
      state: "disabled",
    }}
    parameters={{
      controls: {
        exclude: ["name", "value"],
      },
      docs: {
        source: {
          code: `
<div class="made-c-form__element">
  <label for="disabled-state" class="made-c-form__label">
    Form label
  </label>
  <div class="made-c-text-input__wrapper">
    <input type="text" id="exampleFormElementInput2" name="disabled-state" class="made-c-text-input" placeholder="Placeholder text" aria-disabled="true" disabled/>
  </div>
  <div class="made-c-form__hint">Helper text</div>
</div>`,
        },
      },
    }}
  >
    >{textInput.bind({})}
  </Story>
</Canvas>

## Validation - Error Messages

Add the `made-c-form__label--error` class to the label and `made-c-text-input--error` to the input for error validation styles.
Add an error message using the `made-c-form__validation--error` class.

<Canvas>
  <Story
    name="Error State"
    argTypes={{
      label: {
        name: "Label",
      },
      placeholder: {
        name: "Placeholder",
      },
      helperText: {
        name: "Helper Text",
      },
      validationText: {
        name: "Validation Text",
      },
      state: {
        name: "State",
        control: {
          type: "radio",
          options: ["default", "disabled", "error", "success"],
        },
      },
    }}
    args={{
      name: "error-state",
      label: "Form label",
      value: "",
      placeholder: "Placeholder text",
      helperText: "Helper text",
      validationText: "Validation",
      state: "error",
    }}
    parameters={{
      controls: {
        exclude: ["name", "value"],
      },
      docs: {
        source: {
          code: `
<div class="made-c-form__element">
  <label for="error-state" class="made-c-form__label made-c-form__label--error">
    Form label
  </label>
  <div class="made-c-text-input__wrapper">
    <svg class="made-c-text-input__icon" width="16" height="16" viewBox="0 0 16 16">
      <title>information icon</title>
      <g fill="currentColor" fill-rule="evenodd">
        <circle fill="var(--made-color-feedback-background-error)" cx="8" cy="8" r="8" />
        <path d="M8.497 13H7.388V6.182h1.109V13zM7.942 3c.109 0 .211.02.307.058a.72.72 0 01.248.162.82.82 0 01.166.244.723.723 0 01.063.3c0 .11-.021.21-.063.302a.748.748 0 01-.414.396.818.818 0 01-.307.057.762.762 0 01-.554-.216.723.723 0 01-.221-.54A.756.756 0 017.943 3z" fill="var(--made-color-feedback-text-on-error)" />
      </g>
    </svg>
    <input type="text" id="error-state" name="error" class="made-c-text-input made-c-text-input--error" placeholder="Placeholder text"/>
  </div>
  <div class="made-c-form__validation--error">Validation</div>
</div>`,
        },
      },
    }}
  >
    >{textInput.bind({})}
  </Story>
</Canvas>

## Validation - Success Messages

Add the `made-c-form__label--success` class to the label and `made-c-text-input--success` to the input for error validation styles.
Add an error message using the `made-c-form__validation--success` class.

<Canvas>
  <Story
    name="Success State"
    argTypes={{
      label: {
        name: "Label",
      },
      placeholder: {
        name: "Placeholder",
      },
      helperText: {
        name: "Helper Text",
      },
      validationText: {
        name: "Validation Text",
      },
      state: {
        name: "State",
        control: {
          type: "radio",
          options: ["default", "disabled", "error", "success"],
        },
      },
    }}
    args={{
      name: "success-state",
      label: "Form label",
      value: "",
      placeholder: "Placeholder text",
      helperText: "Helper text",
      validationText: "Validation",
      state: "success",
    }}
    parameters={{
      controls: {
        exclude: ["name", "value"],
      },
      docs: {
        source: {
          code: `
<div class="made-c-form__element">
  <label for="success-state" class="made-c-form__label">
    Form label
  </label>
  <div class="made-c-text-input__wrapper">
    <svg width="16" height="16" viewBox="0 0 16 16" class="made-c-text-area__icon">
      <title>Success</title>
      <g fill="none" fill-rule="evenodd">
        <path d="M8 0a8 8 0 00-8 8 8 8 0 008 8 8 8 0 008-8 8 8 0 00-8-8z" fill="var(--made-color-feedback-background-success)" />
        <path d="M6.178 10.265l-2.37-2.37-.808.8 3.178 3.179L13 5.052l-.802-.802z" fill="var(--made-color-feedback-text-on-success)" />
      </g>
    </svg>
    <input type="text" id="success-state" name="success" class="made-c-text-input made-c-text-input--success" placeholder="Placeholder text"/>
  </div>
  <div class="made-c-form__validation--success">Validation</div>
</div>`,
        },
      },
    }}
  >
    >{textInput.bind({})}
  </Story>
</Canvas>

## Password Strength

The password strength component allows you to show an indicator of how strong a password is.

### Default

<Canvas>
  <Story
    name="Password Strength"
    argTypes={{
      label: {
        name: "Label",
      },
      placeholder: {
        name: "Placeholder",
      },
      passwordStrength: {
        name: "Password Strength",
        control: {
          type: "radio",
          options: ["default", "weak", "average", "strong"],
        },
      },
    }}
    args={{
      name: "password",
      label: "Form label",
      value: "password",
      placeholder: "Placeholder text",
      state: "password",
      passwordStrength: "default",
    }}
    parameters={{
      controls: {
        exclude: ["name", "value", "state", "validationText", "helperText"],
      },
      docs: {
        source: {
          code: `
<div class="made-c-form__element">
  <label for="password" class="made-c-form__label">
    Form label
  </label>
  <div class="made-c-text-input__wrapper">
    <input
      type="password"
      id="password"
      name="password"
      class="made-c-text-input"
      placeholder="Placeholder text"
    />
  </div>
  <div class="made-c-meter">
    <div class="made-c-meter__level"></div>
  </div>
	<div class="made-c-form__hint"></div>
</div>`,
        },
      },
    }}
    decorators={[
      (Story) => (
        <div style={{ height: "6rem" }}>
          <Story />
        </div>
      ),
    ]}
  >
    {textInput.bind({})}
  </Story>
</Canvas>

### Weak

To show a password as weak add the class `made-c-meter__level--weak` alongside the class `made-c-meter__level`.

<Canvas>
  <Story
    name="Password Strength: Weak"
    argTypes={{
      label: {
        name: "Label",
      },
      placeholder: {
        name: "Placeholder",
      },
      passwordStrength: {
        name: "Password Strength",
        control: {
          type: "radio",
          options: ["default", "weak", "average", "strong"],
        },
      },
    }}
    args={{
      name: "password",
      label: "Form label",
      value: "password",
      placeholder: "Placeholder text",
      state: "password",
      passwordStrength: "weak",
    }}
    parameters={{
      controls: {
        exclude: ["name", "value", "state", "validationText", "helperText"],
      },
      docs: {
        source: {
          code: `
<div class="made-c-form__element">
  <label for="password" class="made-c-form__label">
    Form label
  </label>
  <div class="made-c-text-input__wrapper">
    <input type="password" id="password" name="password" value="password" class="made-c-text-input" placeholder="Placeholder text" />
  </div>
  <div class="made-c-meter">
    <div class="made-c-meter__level made-c-meter__level--weak"></div>
  </div>
  <div class="made-c-form__hint">
    Password strength: <strong>Weak</strong>
  </div>
</div>`,
        },
      },
    }}
    decorators={[
      (Story) => (
        <div style={{ height: "6rem" }}>
          <Story />
        </div>
      ),
    ]}
  >
    {textInput.bind({})}
  </Story>
</Canvas>

### Average

To show a password as average add the class `made-c-meter__level--average` alongside the class `made-c-meter__level`.

<Canvas>
  <Story
    name="Password Strength: Average"
    argTypes={{
      label: {
        name: "Label",
      },
      placeholder: {
        name: "Placeholder",
      },
      passwordStrength: {
        name: "Password Strength",
        control: {
          type: "radio",
          options: ["default", "weak", "average", "strong"],
        },
      },
    }}
    args={{
      name: "password",
      label: "Form label",
      value: "password",
      placeholder: "Placeholder text",
      state: "password",
      passwordStrength: "average",
    }}
    parameters={{
      controls: {
        exclude: ["name", "value", "state", "validationText", "helperText"],
      },
      docs: {
        source: {
          code: `
<div class="made-c-form__element">
	<label for="default" class="made-c-form__label">
		Form label
	</label>
	<div class="made-c-text-input__wrapper">
		<input type="password" id="default" name="default" value="password" class="made-c-text-input" placeholder="Placeholder text" />
	</div>
	<div class="made-c-meter">
		<div class="made-c-meter__level made-c-meter__level--average"></div>
	</div>
	<div class="made-c-form__hint">
		Password strength: <strong>Average</strong>
	</div>
</div>`,
        },
      },
    }}
    decorators={[
      (Story) => (
        <div style={{ height: "6rem" }}>
          <Story />
        </div>
      ),
    ]}
  >
    {textInput.bind({})}
  </Story>
</Canvas>

## Strong

To show a password as strong add the class `made-c-meter__level--strong` alongside the class `made-c-meter__level`.

<Canvas>
  <Story
    name="Password Strength: Strong"
    argTypes={{
      label: {
        name: "Label",
      },
      placeholder: {
        name: "Placeholder",
      },
      passwordStrength: {
        name: "Password Strength",
        control: {
          type: "radio",
          options: ["default", "weak", "average", "strong"],
        },
      },
    }}
    args={{
      name: "password",
      label: "Form label",
      value: "password",
      placeholder: "Placeholder text",
      state: "password",
      passwordStrength: "strong",
    }}
    parameters={{
      controls: {
        exclude: ["name", "value", "state", "validationText", "helperText"],
      },
      docs: {
        source: {
          code: `
<div class="made-c-form__element">
	<label for="default" class="made-c-form__label">
		Form label
	</label>
	<div class="made-c-text-input__wrapper">
		<input type="password" id="default" name="default" value="password" class="made-c-text-input" placeholder="Placeholder text" />
	</div>
	<div class="made-c-meter">
		<div class="made-c-meter__level made-c-meter__level--strong"></div>
	</div>
	<div class="made-c-form__hint">
		Password strength: <strong>Strong</strong>
	</div>
</div>`,
        },
      },
    }}
    decorators={[
      (Story) => (
        <div style={{ height: "6rem" }}>
          <Story />
        </div>
      ),
    ]}
  >
    {textInput.bind({})}
  </Story>
</Canvas>
